<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      contentType="text/html"
      xmlns:ezcomp="http://java.sun.com/jsf/composite/ezcomp">
    
    
    <body>
        <ui:composition template="/mainTemplate.xhtml">
            <ui:define name="titulo">Detalle punto limpio</ui:define>
            <ui:define name="botonesBarra">
                <ezcomp:boton_barra_superior classIcon="ui-icon-home" title="Ir al inicio" action="#{autenticadorMB.indexLoggued()}" />
            </ui:define>
            <ui:define name="centro">
                 <h:form>
                     <p:panelGrid columns="2" styleClass="centrar">
                         <f:facet name="header">Datos del punto limpio</f:facet>
                         
                         <p:outputLabel value="N°"/>
                         <p:outputLabel value="#{mantenedorPuntoLimpioVerDetallesMB.num}" />
                         
                         <p:outputLabel value="Nombre"/>
                         <p:outputLabel value="#{mantenedorPuntoLimpioVerDetallesMB.nombre}" />
                         
                         <p:outputLabel value="Comuna"/>
                         <p:outputLabel value="#{mantenedorPuntoLimpioVerDetallesMB.comuna}" />
                         
                         <p:outputLabel value="Dirección"/>
                         <p:outputLabel value="#{mantenedorPuntoLimpioVerDetallesMB.direccion}" />
                        
                         <p:outputLabel value="Fecha de última revisión"/>
                         <p:outputLabel value="#{mantenedorPuntoLimpioVerDetallesMB.fechaUltimaRevision}" />
                         
                         <p:outputLabel value="Fecha de próxima revisión"/>
                         <p:outputLabel value="#{mantenedorPuntoLimpioVerDetallesMB.fechaProximaRevision}" />
                         
                         <p:outputLabel value="Estado actual"/>
                         <p:outputLabel value="#{mantenedorPuntoLimpioVerDetallesMB.estado}" />
                         
                         <p:outputLabel value="Inspector encargado"/>
                         <p:outputLabel value="#{mantenedorPuntoLimpioVerDetallesMB.inspectorEncargado}" />
                         
                         <p:outputLabel value="Nº de revisiones realizadas"/>
                         <p:outputLabel value="#{mantenedorPuntoLimpioVerDetallesMB.numRevisionesRealizadas}" />
                         
                         <p:outputLabel value="Nº de mantenciones realizadas"/>
                         <p:outputLabel value="#{mantenedorPuntoLimpioVerDetallesMB.numMantencionesRealizadas}" />
                         
                         
                         
                         <f:facet name="footer">
                             <p:dataTable value="#{mantenedorPuntoLimpioVerDetallesMB.listaContenedores}" var="contenedor" 
                                      emptyMessage="No ha agregado contenedores a este punto limpio">

                             <p:column headerText="Material" >
                                 <h:outputText value="#{contenedor.nombreMaterial}"/>
                             </p:column>
                             <p:column headerText="Capacidad" >
                                 <h:outputText value="#{contenedor.capacidad}"/>
                             </p:column>
                             <p:column headerText="Llenado" >
                                 <h:outputText value="#{contenedor.llenadoContenedor}%"/>
                             </p:column>
                             <p:column headerText="Estado" >
                                 <h:outputText value="#{contenedor.nombreEstadoContenedor}"/>
                             </p:column>
                         </p:dataTable>
                             
                            <p:commandButton value="Editar" action="#{mantenedorPuntoLimpioVerDetallesMB.goToEditar()}" rendered="#{request.isUserInRole('Administrador')}" />
                            <p:commandButton value="Volver" action="#{mantenedorPuntoLimpioVerDetallesMB.volverToLista()}"/>                         
                         </f:facet>
                     </p:panelGrid>                
                </h:form>               
            </ui:define>
        </ui:composition>       
    </body>   
</html>